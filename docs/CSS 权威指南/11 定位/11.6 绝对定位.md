### 绝对定位元素的容纳块

绝对定位的元素完全从文档流中删除，其位置相对容纳块块确定，外边距的边界使用偏移属性划定。

绝对定位的容纳块是 position 属性值不是 static 的最近的祖辈元素。通常，创作人员选定用绝对定位元素的容纳块的元素后，就回吧 posotion 值设为 relative，而且不设置偏移。

```CSS
.contain {position: relative}
.contain > .son {position: absolute}
```

需着重说明一点，绝对定位的元素是其后代元素的容纳块，因为它的 position 就不是 static。因此我们可以绝对定位一个元素，再绝对定位它的子元素。

### 自动确定边界的位置

绝对定位一个元素时，如果除 bottom 之外的某个偏移属性被设为 auto 时，取元素未定位时对应的边界所在位置对齐。

### 非置换元素的位置和尺寸

一般来说，对元素的尺寸和位置最根本的影响来自容纳块。

以定位元素的宽度和横向位置为例，满足以下等式
left + right + margin-left/right + padding-left/right + width = 容纳块宽度。

首先，如果 left、widt 和 right 都设为 auto，左边界放在静态位置，元素内容区宽度恰好放得下内容。非静态定位属性设为 auto 的意思是占据余下的位置。

如果七个属性都设定了非 auto 值但没占满父元素宽度，那么将忽略 right 属性值，补上差值。

一般来说，如果只有一个属性值时 auto，通过那个属性补足本节前面给出的等式。

目前讨论的都是横轴上的行为，不过纵所用的规则与之十分类似。

在绝对定位下，一对外边距为 auto 时自动设为相等的值，因此可以实现纵向居中（只要 top 和 bottom 不是 auto 且相等）。而在常规文档流中纵向外边距设为 auto 会是 0。

如果绝对定位元素的纵向尺寸过约束，bottom 将被忽略。

### Z 轴上的位置

终有那么一一个时刻，两个元素会出现在相同的位置，视觉上的效果，使用 z-index 属性控制重叠优先级。

![](z-index.png)

z-index 值可以设为任何整数，包括负数。z-index 越大，元素越接近读者，叠加优先级越高。

为元素设定 z-index 后，元素便确立了自己的局部堆叠上下文。这意味着所有后代元素的堆叠次序都相对祖辈元素而言，不管 zindex 多少都显示在父元素前面。

CSS 规范规定：z-index: auto 可以视作 z-index: 0
